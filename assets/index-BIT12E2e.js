(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function l(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=l(o);fetch(o.href,i)}})();const M=12,D=9,z=[[0,14,0,1,1,6,1,1,0,14,0,0],[0,0,0,0,0,2,0,0,0,0,0,0],[0,1,0,14,0,2,0,14,0,1,0,0],[0,0,0,0,0,2,0,0,0,0,0,0],[6,2,2,2,2,2,2,2,2,2,2,6],[0,0,0,0,0,2,0,0,0,0,0,0],[0,1,0,14,0,2,0,14,0,1,0,0],[0,0,0,0,0,2,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]],$=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,1,0,0],[0,0,2,2,2,2,2,2,2,0,0,0],[0,0,2,0,0,1,0,0,2,0,0,0],[0,0,2,0,0,0,0,0,2,0,0,0],[0,0,2,2,2,2,2,2,2,0,0,0],[0,1,0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,2,0,0,0,0,0,0],[0,0,0,0,0,6,0,0,0,0,0,0]],ee=[[59,59,59,59,59,59,59,59,59,59,59,59],[59,29,30,31,32,2,45,46,47,48,7,59],[59,7,7,7,7,2,7,12,11,7,7,59],[59,33,34,35,40,2,49,50,51,2,7,59],[59,2,2,2,2,2,2,2,2,2,2,6],[59,36,37,38,39,2,52,53,54,2,7,59],[59,7,11,12,7,2,7,7,7,7,7,59],[59,41,42,43,44,2,55,56,57,58,7,59],[59,59,59,59,59,59,59,59,59,59,59,59]],te=[[59,59,59,59,59,59,59,59,59,59,59,59],[59,8,8,65,7,28,7,61,8,8,7,59],[59,7,11,12,2,2,2,2,7,7,7,59],[59,13,7,7,16,17,18,19,2,66,62,59],[6,2,2,2,20,21,22,23,2,2,2,59],[59,67,7,7,24,25,26,27,2,7,7,59],[59,7,7,8,2,2,2,2,60,68,7,59],[59,8,73,7,7,7,7,7,7,8,7,59],[59,59,59,59,59,59,59,59,59,59,59,59]],L={room1:{id:"room1",name:"Central Hub",map:z,playerStartX:5,playerStartY:7,description:"Welcome! Choose your path to explore different aspects of my profile.",doors:[{x:5,y:0,targetRoom:"room2",targetX:5,targetY:7,description:"Press SPACE to enter the Boss Room"},{x:0,y:4,targetRoom:"room3",targetX:10,targetY:4,description:"Press SPACE to enter the Work Experience Room"},{x:11,y:4,targetRoom:"room4",targetX:1,targetY:4,description:"Press SPACE to enter the Hobbies Room"}]},room2:{id:"room2",name:"Boss Room",map:$,playerStartX:5,playerStartY:7,description:"Face the final challenge - meet the person behind this experience!",doors:[{x:5,y:8,targetRoom:"room1",targetX:5,targetY:1,description:"Press SPACE to return to Central Hub"}]},room3:{id:"room3",name:"Work Experience",map:ee,playerStartX:10,playerStartY:4,description:"Explore my professional journey and key accomplishments.",doors:[{x:11,y:4,targetRoom:"room1",targetX:1,targetY:4,description:"Press SPACE to return to Central Hub"}]},room4:{id:"room4",name:"My Hobbies",map:te,playerStartX:1,playerStartY:4,description:"Discover my passions: Reading, Football, and Traveling the world!",doors:[{x:0,y:4,targetRoom:"room1",targetX:10,targetY:4,description:"Press SPACE to return to Central Hub"}]}},le=[2,3,4,5,6,7,13,16,17,18,19,20,21,22,23,24,25,26,27],g={down_idle:[],down_walk:[],up_idle:[],up_walk:[],left_idle:[],left_walk:[],right_idle:[],right_walk:[]},s={x:Math.floor(M/2),y:D-2,direction:"down",animationState:"idle",currentAnimation:[],frameIndex:0,animationTimer:0,animationSpeed:.15};s.currentAnimation=g.down_idle;function oe(t){s.animationTimer+=t,s.animationTimer>=s.animationSpeed&&(s.animationTimer=0,s.frameIndex=(s.frameIndex+1)%s.currentAnimation.length)}function ae(t,e){const l=s.currentAnimation[s.frameIndex];if(!l)return;const a=s.x*e,o=s.y*e;if(t.save(),s.direction==="left"){const i=l.width;t.translate(a,o),t.scale(-1,1),t.drawImage(l,-i,0)}else t.drawImage(l,a,o);t.restore()}const ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAB1JREFUOI1jtOv0+M9AAWCiRPOoAaMGjBowmAwAAJhEAi4/QQzBAAAAAElFTkSuQmCC",ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAB1JREFUOI1jfLKs6D8DBYCJEs2jBowaMGrAYDIAAFnyAxuTOlahAAAAAElFTkSuQmCC",re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABQCAYAAACpv3NFAAAAAXNSR0IArs4c6QAABZFJREFUeJztW09PG0cU/zk1ogZFvbBFCjgXDgYipAYJRzKHXCLlGkeIT9EvkAMnH/oJ+iUsFM6VcokESBipiYRi44MPjUGVte6BVmDRWNCDmeXteHa9M/Nm6WF/Esrszuzse7/3Z97MOkCGDBkyZMiQIUOGdFFY8G4LC97tQ8uRczEpVWxw7ufE9eDcz4n+1Z0yAKBZa4COdSFPHPKckwlFhXIA0Kw1qLJj/fS6WWvcqghzCbYXCKs2aw1U6xUAQPtkCGBkZVnp0lo+NKa0lkf7ZBga26w1nJPwiGMS6vKrO2XsbR8CuFeyWq8EbXpfvlYR5TpXWLNbWPBuq/VKyHqyggLtk2Fkn2rM3vZh4E1724dOvIGNANcQXgXw5garEEh7GVvdKWN1p8z6XmMCRNITMd8+GQYJzQXk0OLKDSxJUE5y3FDlDi5vsCJAFDF0KXMBOq9YZrneZUQAdX9ayQFwGgrtkyG4E65RNqWlrAouw4GCY2UwXk4oCbSqS0t5OexM6wSrEKACuFwBVOB6rzYBctaVY56biLj5qPVNoeUy8jaWrs3U/blCIek8dNOlGwbGyyBdimRBOfNAlAdweZp20lDFPxcEkSrl6LtU/aZbZy0PUMV/EiQdR5WXyRW5hs5Ft9Gmy6B2CFTrlaD40fGApAVSaS0fzKs6N4g6SzAtibUJ2K/nxg4t4hQzLZPjCJPnqtYrqNYrRiRoETA493P+7kHonhBSJaysvA4JqqQqv4MjERolQWD8YDPuFCiuPykm1QOmlaCWVIUF79bb2oS38m3i2ElhoZs/gGhPsDkuM6oD/NZUaBeoUiaqLogKlUkx76rkNsoB/u4BvK1N5ZgkCVFuJ80RUeu/DbQ9QLiaKgxoQpSVpW48yZqTiBJo1hrwtjbhbW0aL4MspZxOoSOPj2tP2ltEeaEOjFYBkQj91tRIkJik6LemEiXNpJDn81tT8HcPjJOgsQeolJfvcSlP5xHEeyvfgvi3+U5glAPkYkgIKQRU3ZfbUfBbU8pn5Gc5lAcszgRFW45Dan0ZsrdEeYrKk1S47Axx9enIigSjEBCfsGeevwgJM7uUT2xlCurWceMuO/zHbtYfRi47Q/i7B5hdyo/dlxHl3lH9l53h2DxXn46Cf22tD1h+HBWhMPP8RUCAcEv5nkxQFOSxKiI5FBew8gAqhLBWnPJUmaj27FI+0uouwMIiTYoiLyQlQu6nJFJQEjg/j7P/4ICGhUCUQnFjhMKUUBc/kGD5OkwhCxmlfPlxMZTQ6DWdiyvZRcHZD5CiwgIAyo+LAIDGP93QNb2X1k/mnH3IIwosA0ct4F7Rjfnpu65i6JnR/SI+nv6+MnoOAHDqSkbAQQjcYZn8YXDurwzO/RUAePusEBq4MT8dEFKcU4oTmosb3ARMFLS06AWKbsxPRyltPL8uOEMgsWClRQ+Aj27/JmgD0+j2b3TexRIaXB6gZZX2ma9U1sAbrMFBgJYgHz73gvarn+ZTfbcKrpJgLIT122d+6PohYEuAtgWEmx/3rgHce4Sm+1vJQJGaB7xcXm+9e/0UwL2ywvLHveug/e71U7xcXm+lJZcNAUbMj7L+CMW5R4EnHPeuQ31pyAIA35k+CGAu6UBh/faZj7/+vsL7LwNszE/jh5kc3qw/wX7nAgCw37nAj9//izfrT9C9mPn5j/6fv2rI09dVAEg5CXb7N3j/ZRBcU4vflb/o9m/QPvNTCwWbQugUCVxPWP/D5x6Oe9eBosB6q3jmj5Hw0ay8MS6KbHdcxrEnrPv2WQGlRQ+//PaVkKONByMAcLRJ0YBVSfwghdD/CVyHDg/lBdYbIs5Tl7RJYNkNch87pUUC2ymRq3M3V0SwH4+lcfBoS4bTM8HU/7MyJhPiVOEMGTJkyJAhQwaB/wCcF1ybPAOXlAAAAABJRU5ErkJggg==",ce="/MyImmersiveExperience/assets/Player-LaRVoEvR.png",se="/MyImmersiveExperience/assets/assets-k1rCfwam.png",fe="data:image/png;base64,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",de="/MyImmersiveExperience/assets/library-BPiDb9BV.png",he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAAUCAYAAABGUvnzAAAC4ElEQVR4nO2av27bMBDGT4UeoIBSIJUrdGszeWqmCMgSDVliBMiUrRmSN/BDCOgDdMmYyUDgLB3UpYA6pROndiwSux3KoXtQZbBPpihS/CPaTm3/FkukSCn++N2d6Hj3ewdFJ88g6KVAaAbdIAFCM8A2WwjNGvs7eXN/E6M4sR7bhtMjv9b2pf+p1iZ6vm5Qb6PDvtbYdz9+6j5iDb8bJEDiBGiewSjOpOLSYV8oOLbzn20E3OAOH53GrpxRnACB6qqTuVkkLj+fCNkCYMfNc5GI3Cjj6uZhbs8xb/xukAAd9ssvtpNnMIoTYUgBqDvZpYP5RTGKE+N5wkEE45M743sDTMLtfnpoNXaefHv72nqsj+Ji7g16KdA8AzJt4wXlnYzn/Kepg2XX64ocDqLasYnQT1XctvhBLwWYuhVdy7aJ3Mqey2nqc8/45K4isq2LV41KIpIVUgjf16aa5V2JqUF1nQzWteEgMg7V++nhSrq4FBjdqBKZxXURxItsMj8rpq17n6q4bGQypRSYr4J5RH0uHaxqd83/XBmbUAnRJuEZYHFibLDHu987KGwHo8CiTRGsfvk+1Q7XqvLq62dvGffVf9sXgCGaSoRmQWFxUSxru3Hd8Nsk8K2LHQAAIJzQLLywuAiI9V3lsCljs4AmVByM1aeu6LP3YPk7L5+ndcaomJd4p0d+Y/HVVHMU17vgHd/KJ/eWEqFnAnvblwAw2zUqfp8pB6u+6KZ+lwWaaC6TVID70lc3D5VjHYrr3dpxo9AL5hl7Eg6itQxtKKapuMj4w3Pwjm8hPP/r/Nna4v379b4AmORTQjMIBxFsXezAn4/f1YO3L6V9Nj8U6CJbhLY5WNfBsr+HdbHMvZ63nBhdhuiJoBFzrAYLJsyr7C9SPNgn+5XKBNcFGitmk3tfvnijnuxc45oF4rfZlKf5xMG8eJS5plwEU9GJQ6F51jG9qHDyHqwjFi80tPh3oA36PAJWG3h2QapYCQAAAABJRU5ErkJggg==",f={};let u=0;const P=8;let p=null;const F={objects:[{name:"Bookshelf_A",code:"bsA",x:120,y:360,width:96,height:120},{name:"Bookshelf_B",code:"bsB",x:240,y:360,width:96,height:120},{name:"Bookshelf_C",code:"bsC",x:360,y:360,width:96,height:120},{name:"table",code:"t",x:336,y:192,width:168,height:96},{name:"world_map",code:"wm",x:120,y:192,width:96,height:120},{name:"chair",code:"c",x:648,y:72,width:48,height:72},{name:"rug",code:"r",x:432,y:0,width:168,height:72}],paths:[{name:"path_walk",code:"pw",x:72,y:192,width:24,height:24}]},ge={tilesheet:{columns:4,rows:3,tileWidth:32,tileHeight:32}},W={flags:[{name:"Australia",code:"au",x:0,y:0,width:15,height:10},{name:"United States",code:"us",x:15,y:0,width:15,height:10},{name:"Japan",code:"jp",x:30,y:0,width:15,height:10},{name:"Vietnam",code:"vn",x:45,y:0,width:15,height:10},{name:"Italy",code:"it",x:75,y:0,width:15,height:10},{name:"France",code:"fr",x:90,y:0,width:15,height:10},{name:"Germany",code:"de",x:105,y:0,width:15,height:10},{name:"Spain",code:"es",x:0,y:10,width:15,height:10},{name:"United Kingdom",code:"gb",x:15,y:10,width:15,height:10}]},me={trees:[{name:"tree_1",code:"t1",x:0,y:0,width:160,height:208},{name:"tree_2",code:"t2",x:176,y:32,width:160,height:176},{name:"tree_3",code:"t3",x:368,y:32,width:128,height:176}]};function U(t){p=t,console.log("🚀 Starting asset loading..."),b("grass",ie),b("path",ne),b("oak_tree_original",re),b("player_sprite_sheet",ce),b("assets_tilesheet",se),b("football_tilesheet",fe),b("library_tilesheet",de),b("travel_flags_tilesheet",he)}function b(t,e){const l=new Image;l.onload=()=>{f[t]=l,u++,console.log(`✅ Loaded: ${t} (${u}/${P})`),u===P&&(console.log("🎯 All images loaded, starting tile extraction..."),ye(),pe(),p&&p())},l.onerror=()=>{console.error(`❌ Failed to load: ${t} from ${e}`),u++,u===P&&p&&p()},l.src=e}function ye(){console.log("🔧 Extracting tiles..."),be(),xe(),Ae(),ue(),Se(),ke()}function be(){const t=f.library_tilesheet;if(!t){console.error("❌ Library tilesheet not found");return}console.log("📚 Extracting library tiles..."),console.log("Library tilesheet size:",t.width,"x",t.height),F.objects.forEach(l=>{console.log(`Extracting ${l.name} at (${l.x}, ${l.y}) size ${l.width}x${l.height}`);const a=k(t,l.x,l.y,l.width,l.height);l.name==="world_map"?(f.world_map=a,console.log("✅ World map extracted")):l.name==="chair"?(f.library_chair=a,console.log("✅ Chair extracted")):l.name.includes("Bookshelf")?(f[`library_${l.code}`]=a,console.log(`✅ Bookshelf ${l.code} extracted`)):l.name==="table"?(f.library_table=a,console.log("✅ Table extracted")):l.name==="rug"&&(f.library_rug=a,console.log("✅ Rug extracted"))});const e=F.paths[0];f.library_floor=k(t,e.x,e.y,e.width,e.height),console.log("✅ Library floor extracted")}function xe(){const t=f.football_tilesheet;if(!t)return;console.log("⚽ Extracting football tiles...");const{tileWidth:e,tileHeight:l,columns:a,rows:o}=ge.tilesheet;for(let i=0;i<o;i++)for(let n=0;n<a;n++){const d=i*a+n;f[`football_${d}`]=k(t,n*e,i*l,e,l)}console.log(`✅ Extracted ${o*a} football tiles`)}function Ae(){const t=f.travel_flags_tilesheet;t&&(console.log("🏁 Extracting flags..."),W.flags.forEach(e=>{f[`flag_${e.code}`]=k(t,e.x,e.y,e.width,e.height)}),console.log(`✅ Extracted ${W.flags.length} flags`))}function ue(){const t=f.assets_tilesheet;t&&(console.log("🌳 Extracting trees..."),me.trees.forEach(e=>{f[`tree_${e.code}`]=k(t,e.x,e.y,e.width,e.height),console.log(`✅ Extracted tree ${e.code}`)}))}function k(t,e,l,a,o,i=64,n=64){const d=document.createElement("canvas");d.width=i,d.height=n;const r=d.getContext("2d");if(!r)return console.error("❌ Could not get canvas context"),new Image;r.clearRect(0,0,i,n),r.imageSmoothingEnabled=!1,r.drawImage(t,e,l,a,o,0,0,i,n);const c=new Image;return c.src=d.toDataURL(),c}function pe(){console.log("🎨 Creating backgrounds for trees only...");const t=f.grass;if(!t){console.error("❌ Grass tile not available for backgrounds");return}w("oak_tree_original","oak_tree",t),w("tree_t1","tree_t1",t),w("tree_t2","tree_t2",t),w("tree_t3","tree_t3",t),console.log("✅ Tree backgrounds created, library items left as-is")}function w(t,e,l){const a=f[t];if(!a){console.warn(`⚠️ Source tile ${t} not found, skipping background`);return}const o=document.createElement("canvas");o.width=64,o.height=64;const i=o.getContext("2d");if(!i){console.error(`❌ Could not get canvas context for ${e}`);return}i.drawImage(l,0,0,64,64),i.drawImage(a,0,0,64,64);const n=new Image;n.src=o.toDataURL(),f[e]=n,console.log(`✅ Created background for ${e}`)}function Se(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.strokeStyle="#444",e.lineWidth=3,e.strokeRect(4,4,56,56),e.strokeStyle="#666",e.lineWidth=1,e.strokeRect(8,8,24,24),e.strokeRect(32,8,24,24),e.strokeRect(8,32,24,24),e.strokeRect(32,32,24,24),e.fillStyle="#FFD700",e.beginPath(),e.arc(48,32,3,0,Math.PI*2),e.fill());const l=new Image;l.src=t.toDataURL(),f.door=l,console.log("✅ Door tile created")}function ke(){console.log("📊 Creating diverse Data Science visualization tiles..."),Te(),we(),Re(),ve(),Pe(),Ie(),Ce(),Ee(),_e(),Me(),De(),Le(),Ue(),Be(),Fe(),We(),Ye(),console.log("✅ Diverse Data Science and R&D visualization tiles created")}function Te(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("NPS Analysis",5,12),e.strokeStyle="#00d084",e.lineWidth=2,e.beginPath();const a=[45,42,47,38,50,32,55];for(let o=0;o<a.length;o++){const i=8+o*8,n=a[o];o===0?e.moveTo(i,n):e.lineTo(i,n)}e.stroke(),e.fillStyle="#00d084";for(let o=0;o<a.length;o++)e.beginPath(),e.arc(8+o*8,a[o],2,0,Math.PI*2),e.fill();e.fillStyle="#ffd700",e.font="bold 10px Arial",e.fillText("73",45,58)}const l=new Image;l.src=t.toDataURL(),f.nps_chart=l}function we(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Energy Cost",5,12),e.fillStyle="rgba(255, 165, 0, 0.3)",e.beginPath(),e.moveTo(8,55);const a=[45,38,42,35,40,30,35];for(let o=0;o<a.length;o++)e.lineTo(8+o*8,a[o]);e.lineTo(56,55),e.closePath(),e.fill(),e.strokeStyle="#ffa500",e.lineWidth=2,e.beginPath();for(let o=0;o<a.length;o++){const i=8+o*8,n=a[o];o===0?e.moveTo(i,n):e.lineTo(i,n)}e.stroke(),e.fillStyle="#00ff88",e.font="bold 8px Arial",e.fillText("-23%",45,58)}const l=new Image;l.src=t.toDataURL(),f.energy_cost_chart=l}function Re(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Fashion Sales",5,12),e.strokeStyle="#e91e63",e.lineWidth=2,e.beginPath();const a=[35,45,40,25,20,18,22,38,42,50,55,48];for(let o=0;o<a.length;o++){const i=8+o*4.5,n=a[o];o===0?e.moveTo(i,n):e.lineTo(i,n)}e.stroke(),e.fillStyle="#ffc107",e.beginPath(),e.arc(8+10*4.5,55,3,0,Math.PI*2),e.fill(),e.fillStyle="#ffc107",e.font="bold 7px Arial",e.fillText("Peak",38,58)}const l=new Image;l.src=t.toDataURL(),f.fashion_retail_timeseries=l}function ve(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Supply Chain",5,12);const a=[{x:15,y:25,color:"#00d084"},{x:35,y:20,color:"#ffc107"},{x:50,y:30,color:"#e91e63"},{x:25,y:45,color:"#9c27b0"},{x:45,y:50,color:"#2196f3"}];e.strokeStyle="#4a5568",e.lineWidth=1,e.beginPath(),e.moveTo(15,25),e.lineTo(35,20),e.moveTo(35,20),e.lineTo(50,30),e.moveTo(35,20),e.lineTo(25,45),e.moveTo(50,30),e.lineTo(45,50),e.moveTo(25,45),e.lineTo(45,50),e.stroke(),a.forEach(o=>{e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,4,0,Math.PI*2),e.fill()})}const l=new Image;l.src=t.toDataURL(),f.distribution_network_map=l}function Pe(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Forecast Dist",5,12),e.fillStyle="#3b82f6";const a=[15,25,35,40,35,25,20,15];for(let o=0;o<a.length;o++){const i=8+o*6,n=a[o];e.fillRect(i,55-n,5,n)}e.strokeStyle="#ef4444",e.lineWidth=2,e.beginPath();for(let o=0;o<50;o++){const i=8+o,n=55-(20+15*Math.exp(-Math.pow((o-25)/8,2)));o===0?e.moveTo(i,n):e.lineTo(i,n)}e.stroke()}const l=new Image;l.src=t.toDataURL(),f.forecast_histogram=l}function Ie(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Box Plot",5,12),e.strokeStyle="#06b6d4",e.fillStyle="rgba(6, 182, 212, 0.3)",e.lineWidth=2,e.fillRect(20,25,24,15),e.strokeRect(20,25,24,15),e.beginPath(),e.moveTo(30,25),e.lineTo(30,40),e.stroke(),e.beginPath(),e.moveTo(15,32.5),e.lineTo(20,32.5),e.moveTo(44,32.5),e.lineTo(50,32.5),e.moveTo(15,30),e.lineTo(15,35),e.moveTo(50,30),e.lineTo(50,35),e.stroke(),e.fillStyle="#ef4444",e.beginPath(),e.arc(12,20,2,0,Math.PI*2),e.arc(55,45,2,0,Math.PI*2),e.fill());const l=new Image;l.src=t.toDataURL(),f.box_plot=l}function Ce(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#f2c811",e.fillRect(0,0,64,64),e.fillStyle="#323130",e.font="bold 10px Arial",e.fillText("Dashboard",8,15);const a=32,o=35,i=15;[{angle:0,size:Math.PI*.6,color:"#0078d4"},{angle:Math.PI*.6,size:Math.PI*.8,color:"#00bcf2"},{angle:Math.PI*1.4,size:Math.PI*.6,color:"#40e0d0"}].forEach(d=>{e.fillStyle=d.color,e.beginPath(),e.moveTo(a,o),e.arc(a,o,i,d.angle,d.angle+d.size),e.closePath(),e.fill()}),e.fillStyle="#fff",e.fillRect(8,52,20,8),e.fillStyle="#323130",e.font="bold 8px Arial",e.fillText("87%",12,58)}const l=new Image;l.src=t.toDataURL(),f.powerbi_dashboard_left=l}function Ee(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#f2c811",e.fillRect(0,0,64,64),e.strokeStyle="#323130",e.lineWidth=2,e.beginPath();const a=[40,35,38,32,28,25,22];for(let o=0;o<a.length;o++){const i=8+o*8,n=a[o];o===0?e.moveTo(i,n):e.lineTo(i,n)}e.stroke(),e.fillStyle="#0078d4";for(let o=0;o<a.length;o++)e.beginPath(),e.arc(8+o*8,a[o],2,0,Math.PI*2),e.fill();e.fillStyle="#323130",e.font="bold 8px Arial",e.fillText("↑23%",8,55),e.fillText("$2.1M",38,55)}const l=new Image;l.src=t.toDataURL(),f.powerbi_dashboard_right=l}function _e(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#3776ab",e.fillRect(0,0,64,32),e.fillStyle="#ffd343",e.fillRect(0,32,64,32),e.fillStyle="#fff",e.font="bold 10px Arial",e.fillText("Python",12,20),e.fillStyle="#000",e.font="bold 8px Arial",e.fillText("scikit",8,45),e.fillText("learn",8,55),e.fillStyle="#666",e.beginPath(),e.arc(50,45,8,0,Math.PI*2),e.fill(),e.fillStyle="#fff",e.fillText("ML",46,49));const l=new Image;l.src=t.toDataURL(),f.python_sklearn=l}function Me(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#ee4c2c",e.fillRect(0,0,64,32),e.fillStyle="#1a1a1a",e.fillRect(0,32,64,32),e.fillStyle="#fff",e.font="bold 10px Arial",e.fillText("PyTorch",10,20),e.fillStyle="#00d084",e.font="bold 8px Arial",e.fillText("Lang",8,45),e.fillText("Chain",8,55),e.strokeStyle="#00d084",e.lineWidth=2,e.beginPath(),e.arc(45,45,4,0,Math.PI*2),e.stroke(),e.beginPath(),e.arc(52,45,4,0,Math.PI*2),e.stroke(),e.beginPath(),e.moveTo(49,45),e.lineTo(48,45),e.stroke());const l=new Image;l.src=t.toDataURL(),f.pytorch_langchain=l}function De(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Rec Tree",5,12),e.strokeStyle="#4a5568",e.lineWidth=1,e.fillStyle="#e53e3e",e.fillRect(28,18,8,6),e.fillStyle="#3182ce",e.fillRect(18,30,8,6),e.fillRect(38,30,8,6),e.fillStyle="#38a169",e.fillRect(10,42,6,5),e.fillRect(20,42,6,5),e.fillRect(38,42,6,5),e.fillRect(48,42,6,5),e.beginPath(),e.moveTo(32,24),e.lineTo(22,30),e.moveTo(32,24),e.lineTo(42,30),e.moveTo(22,36),e.lineTo(13,42),e.moveTo(22,36),e.lineTo(23,42),e.moveTo(42,36),e.lineTo(41,42),e.moveTo(42,36),e.lineTo(51,42),e.stroke(),e.fillStyle="#ffd700",e.font="6px Arial",e.fillText("0.89",10,58),e.fillText("0.76",20,58),e.fillText("0.91",38,58),e.fillText("0.82",48,58));const l=new Image;l.src=t.toDataURL(),f.recommendation_tree=l}function Le(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#0078d4",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Azure",18,15),e.font="bold 7px Arial",e.fillText("Machine",12,28),e.fillText("Learning",12,38),e.strokeStyle="#fff",e.lineWidth=2,e.beginPath(),e.moveTo(10,50),e.lineTo(25,50),e.lineTo(40,50),e.lineTo(55,50),e.stroke(),e.fillStyle="#fff",e.beginPath(),e.arc(10,50,3,0,Math.PI*2),e.arc(25,50,3,0,Math.PI*2),e.arc(40,50,3,0,Math.PI*2),e.arc(55,50,3,0,Math.PI*2),e.fill());const l=new Image;l.src=t.toDataURL(),f.azure_ml=l}function Ue(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#0078d4",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Azure",18,15),e.font="bold 7px Arial",e.fillText("Data",20,28),e.fillText("Factory",16,38),e.strokeStyle="#fff",e.lineWidth=2,e.fillStyle="#fff",e.fillRect(8,45,8,6),e.beginPath(),e.moveTo(20,48),e.lineTo(35,48),e.stroke(),e.fillStyle="#ffd700",e.beginPath(),e.arc(35,48,4,0,Math.PI*2),e.fill(),e.strokeStyle="#fff",e.beginPath(),e.moveTo(39,48),e.lineTo(50,48),e.stroke(),e.fillStyle="#fff",e.fillRect(50,45,8,6));const l=new Image;l.src=t.toDataURL(),f.azure_data_factory=l}function Be(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){const a=e.createLinearGradient(0,0,0,64);a.addColorStop(0,"#1a202c"),a.addColorStop(1,"#2d3748"),e.fillStyle=a,e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Chatbot AI",5,12),e.fillStyle="#3182ce",e.fillRect(35,20,24,8),e.fillStyle="#fff",e.font="6px Arial",e.fillText("Hello!",38,26),e.fillStyle="#00d084",e.fillRect(5,32,30,8),e.fillStyle="#fff",e.fillText("How can I help?",7,38),e.fillStyle="#3182ce",e.fillRect(28,44,31,8),e.fillStyle="#fff",e.fillText("Recommend...",30,50),e.fillStyle="#ffd700",e.beginPath(),e.arc(12,58,6,0,Math.PI*2),e.fill(),e.fillStyle="#1a202c",e.beginPath(),e.arc(10,56,1,0,Math.PI*2),e.arc(14,56,1,0,Math.PI*2),e.fill(),e.strokeStyle="#1a202c",e.lineWidth=1,e.beginPath(),e.arc(12,58,3,0,Math.PI),e.stroke(),e.fillStyle="#9ca3af",e.font="6px Arial",e.fillText("●●●",45,58)}const l=new Image;l.src=t.toDataURL(),f.chatbot_ai=l}function Fe(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#000000",e.fillRect(0,0,64,64),e.fillStyle="#86bc25",e.font="bold 9px Arial",e.fillText("Deloitte",12,20),e.font="bold 8px Arial",e.fillText("Consulting",8,32),e.fillStyle="#86bc25",e.beginPath(),e.arc(56,16,2,0,Math.PI*2),e.fill(),e.font="6px Arial",e.fillText("2022-2023",15,55));const l=new Image;l.src=t.toDataURL(),f.deloitte_consulting=l}function We(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a202c",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Gantt Chart",5,12),e.fillStyle="#4a5568",e.fillRect(0,16,64,8),e.fillStyle="#fff",e.font="6px Arial",e.fillText("Q1",8,22),e.fillText("Q2",24,22),e.fillText("Q3",40,22),e.fillText("Q4",56,22),e.fillStyle="#3182ce",e.fillRect(6,28,18,4),e.fillStyle="#10b981",e.fillRect(14,36,24,4),e.fillStyle="#f59e0b",e.fillRect(32,44,20,4),e.fillStyle="#ef4444",e.fillRect(48,52,12,4),e.fillStyle="#86bc25",e.fillRect(6,28,12,4),e.fillRect(14,36,16,4),e.fillRect(32,44,8,4),e.strokeStyle="#dc2626",e.lineWidth=1,e.setLineDash([2,2]),e.beginPath(),e.moveTo(28,25),e.lineTo(28,58),e.stroke(),e.setLineDash([]));const l=new Image;l.src=t.toDataURL(),f.gantt_chart=l}function Ye(){console.log("🔴 Creating R&D System Engineer visualization tiles..."),He(),Ge(),Qe(),Je(),Oe(),Xe(),je(),Ne(),Ke(),Ve(),Ze(),qe(),ze(),$e(),et(),tt(),console.log("✅ R&D System Engineer visualization tiles created")}function He(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("IR Spectrum",5,12),e.fillStyle="#ff4444",e.font="6px Arial",e.fillText("Hot",5,22),e.fillStyle="#4444ff",e.fillText("Cold",45,22);const a=e.createLinearGradient(0,25,64,25);a.addColorStop(0,"#000080"),a.addColorStop(.3,"#0080ff"),a.addColorStop(.5,"#00ff00"),a.addColorStop(.7,"#ffff00"),a.addColorStop(.9,"#ff8000"),a.addColorStop(1,"#ff0000"),e.fillStyle=a,e.fillRect(5,25,54,20),e.fillStyle="#fff",e.font="5px Arial",e.fillText("3-5μm",8,52),e.fillText("8-12μm",35,52),e.strokeStyle="#fff",e.lineWidth=1,e.strokeRect(5,25,20,20),e.strokeRect(35,25,24,20)}const l=new Image;l.src=t.toDataURL(),f.ir_spectrum=l}function Ge(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 7px Arial",e.fillText("Atmos Trans",5,12),e.strokeStyle="#666",e.lineWidth=1,e.beginPath(),e.moveTo(10,55),e.lineTo(58,55),e.moveTo(10,55),e.lineTo(10,20),e.stroke(),e.fillStyle="#aaa",e.font="5px Arial",e.fillText("λ(μm)",45,60),e.fillText("T%",2,25),e.strokeStyle="#00ff88",e.lineWidth=2,e.beginPath();const a=[{x:12,y:45},{x:16,y:35},{x:20,y:25},{x:24,y:25},{x:28,y:25},{x:32,y:45},{x:36,y:45},{x:40,y:25},{x:44,y:25},{x:48,y:25},{x:52,y:45},{x:56,y:50}];for(let o=0;o<a.length;o++)o===0?e.moveTo(a[o].x,a[o].y):e.lineTo(a[o].x,a[o].y);e.stroke(),e.fillStyle="rgba(0, 255, 136, 0.2)",e.fillRect(20,20,8,35),e.fillRect(40,20,8,35)}const l=new Image;l.src=t.toDataURL(),f.atmospheric_transmission=l}function Qe(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Multi-Cam",12,12),e.fillStyle="#444",e.beginPath(),e.arc(32,32,12,0,Math.PI*2),e.fill(),[{angle:0,color:"#ff4444"},{angle:Math.PI/2,color:"#44ff44"},{angle:Math.PI,color:"#4444ff"},{angle:3*Math.PI/2,color:"#ffff44"},{angle:Math.PI/4,color:"#ff44ff"},{angle:3*Math.PI/4,color:"#44ffff"}].forEach(o=>{const i=32+Math.cos(o.angle)*18,n=32+Math.sin(o.angle)*18;e.fillStyle=o.color,e.fillRect(i-3,n-3,6,6),e.strokeStyle=o.color,e.lineWidth=1,e.globalAlpha=.3,e.beginPath(),e.moveTo(i,n),e.arc(i,n,12,o.angle-Math.PI/6,o.angle+Math.PI/6),e.closePath(),e.stroke(),e.globalAlpha=1}),e.fillStyle="#fff",e.font="6px Arial",e.fillText("360°",26,58));const l=new Image;l.src=t.toDataURL(),f.multi_camera_array=l}function Je(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#C8102E",e.fillRect(0,0,64,64),e.fillStyle="#ffffff",e.font="bold 12px Arial",e.textAlign="center",e.fillText("Leonardo",32,26),e.font="bold 10px Arial",e.fillText("SpA",32,42),e.font="8px Arial",e.fillText("2024 - present",32,56));const l=new Image;l.src=t.toDataURL(),f.leonardo_spa=l}function Oe(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Detection",8,12),e.fillStyle="#333",e.fillRect(5,18,54,40),[{x:15,y:25,w:12,h:8,conf:"0.92",color:"#00ff88"},{x:35,y:30,w:10,h:10,conf:"0.87",color:"#ffaa00"},{x:45,y:40,w:8,h:6,conf:"0.76",color:"#ff4444"}].forEach(o=>{e.fillStyle=o.color,e.globalAlpha=.6,e.fillRect(o.x+2,o.y+2,o.w-4,o.h-4),e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=1,e.strokeRect(o.x,o.y,o.w,o.h),e.fillStyle=o.color,e.font="5px Arial",e.fillText(o.conf,o.x,o.y-1)}));const l=new Image;l.src=t.toDataURL(),f.object_detection=l}function Xe(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Kalman",15,12),e.strokeStyle="#4444ff",e.lineWidth=2,e.setLineDash([3,3]),e.beginPath(),e.moveTo(10,50),e.quadraticCurveTo(25,30,50,25),e.stroke(),e.setLineDash([]),e.fillStyle="#ff4444";const a=[{x:12,y:48},{x:20,y:38},{x:30,y:32},{x:42,y:28},{x:48,y:26}];a.forEach(o=>{e.beginPath(),e.arc(o.x,o.y,2,0,Math.PI*2),e.fill()}),e.strokeStyle="#00ff88",e.lineWidth=1,a.forEach((o,i)=>{const n=4+i*1.5;e.beginPath(),e.ellipse(o.x,o.y,n,n*.6,0,0,Math.PI*2),e.stroke()}),e.font="5px Arial",e.fillStyle="#4444ff",e.fillText("Pred",5,20),e.fillStyle="#ff4444",e.fillText("Meas",5,28),e.fillStyle="#00ff88",e.fillText("Uncert",5,36)}const l=new Image;l.src=t.toDataURL(),f.kalman_filter=l}function je(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Opt Flow",12,12),e.strokeStyle="#00ffaa",e.lineWidth=1;for(let a=15;a<55;a+=12)for(let o=20;o<55;o+=12){const i=(a-32)*.1+Math.sin(a*.1)*3,n=(o-35)*.1+Math.cos(o*.1)*2;e.beginPath(),e.moveTo(a,o),e.lineTo(a+i,o+n),e.stroke();const d=Math.atan2(n,i);e.beginPath(),e.moveTo(a+i,o+n),e.lineTo(a+i-3*Math.cos(d-Math.PI/6),o+n-3*Math.sin(d-Math.PI/6)),e.moveTo(a+i,o+n),e.lineTo(a+i-3*Math.cos(d+Math.PI/6),o+n-3*Math.sin(d+Math.PI/6)),e.stroke()}}const l=new Image;l.src=t.toDataURL(),f.optical_flow=l}function Ne(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("360° Warn",8,12),e.fillStyle="#444",e.beginPath(),e.arc(32,32,8,0,Math.PI*2),e.fill(),[{start:0,end:Math.PI/2,color:"#00ff88"},{start:Math.PI/2,end:Math.PI,color:"#ffaa00"},{start:Math.PI,end:3*Math.PI/2,color:"#ff4444"},{start:3*Math.PI/2,end:2*Math.PI,color:"#4488ff"}].forEach(o=>{e.fillStyle=o.color,e.globalAlpha=.3,e.beginPath(),e.moveTo(32,32),e.arc(32,32,25,o.start,o.end),e.closePath(),e.fill(),e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=2,e.beginPath(),e.moveTo(32,32),e.lineTo(32+Math.cos(o.start)*25,32+Math.sin(o.start)*25),e.stroke()}),e.strokeStyle="#666",e.lineWidth=1,e.beginPath(),e.arc(32,32,15,0,Math.PI*2),e.stroke(),e.beginPath(),e.arc(32,32,25,0,Math.PI*2),e.stroke(),e.fillStyle="#aaa",e.font="5px Arial",e.fillText("20km",5,58),e.fillText("40km",45,58));const l=new Image;l.src=t.toDataURL(),f.coverage_360=l}function Ke(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Threats",15,12),e.strokeStyle="#00ff88",e.lineWidth=1,e.strokeRect(5,16,54,42),[{x:15,y:25,level:"HIGH",color:"#ff4444"},{x:35,y:30,level:"MED",color:"#ffaa00"},{x:45,y:40,level:"LOW",color:"#44ff44"}].forEach((o,i)=>{e.fillStyle=o.color,e.beginPath(),e.moveTo(o.x,o.y-3),e.lineTo(o.x-3,o.y+3),e.lineTo(o.x+3,o.y+3),e.closePath(),e.fill(),e.font="5px Arial",e.fillText(o.level,o.x-6,o.y+8),e.fillStyle="#aaa",e.font="4px Arial",e.fillText(`${15+i*5}km`,o.x-8,o.y+12),e.fillText(`${45+i*30}°`,o.x-6,o.y+16)}),e.fillStyle="#00ff88",e.fillRect(8,52,6,4),e.fillStyle="#fff",e.font="5px Arial",e.fillText("ACTIVE",16,55));const l=new Image;l.src=t.toDataURL(),f.threat_interface=l}function Ve(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("MTT",25,12),[{x:15,y:25,id:"T1",color:"#ff4444",history:[{x:10,y:30},{x:12,y:28},{x:15,y:25}]},{x:40,y:35,id:"T2",color:"#44ff44",history:[{x:35,y:30},{x:38,y:32},{x:40,y:35}]},{x:25,y:45,id:"T3",color:"#4444ff",history:[{x:20,y:50},{x:22,y:48},{x:25,y:45}]}].forEach(o=>{e.strokeStyle=o.color,e.lineWidth=1,e.globalAlpha=.5,e.beginPath(),o.history.forEach((i,n)=>{n===0?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y)}),e.stroke(),e.globalAlpha=1,e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,3,0,Math.PI*2),e.fill(),e.font="6px Arial",e.fillText(o.id,o.x+5,o.y-2),e.strokeStyle=o.color,e.lineWidth=2,e.beginPath(),e.moveTo(o.x,o.y),e.lineTo(o.x+8,o.y-3),e.stroke()}),e.fillStyle="#fff",e.font="5px Arial",e.fillText("3 TRACKS",5,58));const l=new Image;l.src=t.toDataURL(),f.multi_target_tracking=l}function Ze(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#e97627",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 10px Arial",e.fillText("MATLAB",8,18),e.font="bold 8px Arial",e.fillText("Simulink",10,30),e.strokeStyle="#fff",e.fillStyle="rgba(255, 255, 255, 0.2)",e.lineWidth=1,e.fillRect(8,38,12,8),e.strokeRect(8,38,12,8),e.fillStyle="#fff",e.font="5px Arial",e.fillText("In",12,44),e.fillStyle="rgba(255, 255, 255, 0.2)",e.fillRect(25,36,14,12),e.strokeRect(25,36,14,12),e.fillStyle="#fff",e.fillText("Filter",27,43),e.fillStyle="rgba(255, 255, 255, 0.2)",e.fillRect(44,38,12,8),e.strokeRect(44,38,12,8),e.fillStyle="#fff",e.fillText("Out",47,44),e.strokeStyle="#fff",e.beginPath(),e.moveTo(20,42),e.lineTo(25,42),e.moveTo(39,42),e.lineTo(44,42),e.stroke(),e.font="6px Arial",e.fillText("R2023b",18,58));const l=new Image;l.src=t.toDataURL(),f.matlab_simulink=l}function qe(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");e&&(e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("IR System",8,12),[{x:8,y:18,w:16,h:8,label:"IR Sensor",color:"#ff4444"},{x:40,y:18,w:16,h:8,label:"ADC",color:"#44ff44"},{x:8,y:32,w:16,h:8,label:"DSP",color:"#4444ff"},{x:40,y:32,w:16,h:8,label:"CPU",color:"#ffaa00"},{x:24,y:46,w:16,h:8,label:"Display",color:"#aa44ff"}].forEach(o=>{e.fillStyle=o.color,e.globalAlpha=.3,e.fillRect(o.x,o.y,o.w,o.h),e.globalAlpha=1,e.strokeStyle=o.color,e.lineWidth=1,e.strokeRect(o.x,o.y,o.w,o.h),e.fillStyle="#fff",e.font="5px Arial",e.fillText(o.label,o.x+2,o.y+6)}),e.strokeStyle="#666",e.lineWidth=1,e.beginPath(),e.moveTo(24,22),e.lineTo(40,22),e.moveTo(16,26),e.lineTo(16,32),e.moveTo(48,26),e.lineTo(48,32),e.moveTo(24,36),e.lineTo(32,46),e.moveTo(40,36),e.lineTo(32,46),e.stroke());const l=new Image;l.src=t.toDataURL(),f.system_architecture=l}function ze(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("Specs",18,12),e.strokeStyle="#666",e.lineWidth=1;const a=5,o=3,i=16,n=7,d=6,r=18;for(let h=0;h<=a;h++)e.beginPath(),e.moveTo(d,r+h*n),e.lineTo(d+o*i,r+h*n),e.stroke();for(let h=0;h<=o;h++)e.beginPath(),e.moveTo(d+h*i,r),e.lineTo(d+h*i,r+a*n),e.stroke();e.fillStyle="#4a5568",e.fillRect(d+1,r+1,o*i-2,n-2),[{r:1,c:0,color:"#00ff88"},{r:1,c:1,color:"#ffaa00"},{r:2,c:0,color:"#00ff88"},{r:2,c:2,color:"#ff4444"},{r:3,c:1,color:"#00ff88"}].forEach(h=>{e.fillStyle=h.color,e.globalAlpha=.6,e.fillRect(d+h.c*i+1,r+h.r*n+1,i-2,n-2),e.globalAlpha=1}),e.font="4px Arial",e.fillStyle="#00ff88",e.fillText("✓ PASS",6,58),e.fillStyle="#ff4444",e.fillText("✗ FAIL",30,58)}const l=new Image;l.src=t.toDataURL(),f.requirements_specs=l}function $e(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#1a1a1a",e.fillRect(0,0,64,64),e.fillStyle="#fff",e.font="bold 8px Arial",e.fillText("IR Detector",8,12),e.fillStyle="#444",e.fillRect(18,20,28,20),e.strokeStyle="#666",e.lineWidth=1,e.strokeRect(18,20,28,20),e.fillStyle="#2a2a2a",e.beginPath(),e.arc(32,30,8,0,Math.PI*2),e.fill(),e.strokeStyle="#888",e.stroke(),e.strokeStyle="#666",e.lineWidth=.5,e.beginPath(),e.arc(32,30,6,0,Math.PI*2),e.stroke(),e.beginPath(),e.arc(32,30,4,0,Math.PI*2),e.stroke(),e.strokeStyle="#666",e.lineWidth=1;for(let a=0;a<5;a++){const o=20+a*5;e.beginPath(),e.moveTo(o,42),e.lineTo(o,48),e.stroke()}e.fillStyle="#aaa",e.font="5px Arial",e.fillText("MWIR/LWIR",15,52),e.fillText("InSb/MCT",18,58),e.fillStyle="#d4af37";for(let a=0;a<3;a++)e.fillRect(46+a*2,35,1,4)}const l=new Image;l.src=t.toDataURL(),f.ir_detector=l}function et(){const t=document.createElement("canvas");t.width=64,t.height=64;const e=t.getContext("2d");if(e){e.fillStyle="#6e6e6e",e.fillRect(0,0,64,64);const a=16,o=8,i=1;e.fillStyle="#5a5a5a";for(let n=0;n<64;n+=o+i)e.fillRect(0,n,64,i);for(let n=0;n<Math.ceil(64/(o+i));n++){const d=n*(o+i),r=n%2*(a/2);for(let c=r;c<64+a;c+=a+i)e.fillRect(c,d,i,o+i)}e.globalAlpha=.1;for(let n=0;n<Math.ceil(64/(o+i));n++)for(let d=0;d<Math.ceil(64/(a+i));d++){const r=d*(a+i)+n%2*(a/2),c=n*(o+i),h=Math.random()*.3-.15;e.fillStyle=h>0?"#ffffff":"#000000",e.fillRect(r+i,c+i,a-i,o-i)}e.globalAlpha=1,e.fillStyle="rgba(0, 0, 0, 0.1)",e.fillRect(62,0,2,64),e.fillRect(0,62,64,2)}const l=new Image;l.src=t.toDataURL(),f.brick_wall=l}function tt(){[{name:"flag_au",code:"AU",colors:["#012169","#ffffff","#ff0000"]},{name:"flag_us",code:"US",colors:["#b22234","#ffffff","#3c3b6e"]},{name:"flag_jp",code:"JP",colors:["#ffffff","#bc002d"]},{name:"flag_vn",code:"VN",colors:["#da251d","#ffff00"]},{name:"flag_mv",code:"MV",colors:["#d21034","#007e3a","#ffffff"]},{name:"flag_it",code:"IT",colors:["#009246","#ffffff","#ce2b37"]},{name:"flag_fr",code:"FR",colors:["#0055a4","#ffffff","#ef4135"]},{name:"flag_de",code:"DE",colors:["#000000","#dd0000","#ffce00"]},{name:"flag_es",code:"ES",colors:["#aa151b","#f1bf00","#aa151b"]},{name:"flag_gb",code:"GB",colors:["#012169","#ffffff","#c8102e"]},{name:"flag_nl",code:"NL",colors:["#21468b","#ffffff","#ae1c28"]},{name:"flag_ch",code:"CH",colors:["#ff0000","#ffffff"]},{name:"flag_ma",code:"MA",colors:["#c1272d","#006233"]},{name:"flag_eg",code:"EG",colors:["#ce1126","#ffffff","#000000"]}].forEach(e=>{const l=document.createElement("canvas");l.width=64,l.height=64;const a=l.getContext("2d");if(a){if(a.fillStyle=e.colors[0],a.fillRect(0,0,64,64),e.colors.length>=2)if(e.code==="IT"||e.code==="FR"||e.code==="NL")a.fillStyle=e.colors[1],a.fillRect(21,0,22,64),e.colors[2]&&(a.fillStyle=e.colors[2],a.fillRect(43,0,21,64));else if(e.code==="DE"||e.code==="EG")a.fillStyle=e.colors[1],a.fillRect(0,21,64,22),e.colors[2]&&(a.fillStyle=e.colors[2],a.fillRect(0,43,64,21));else if(e.code==="US"){a.fillStyle=e.colors[1],a.fillRect(0,0,64,64),a.fillStyle=e.colors[0];for(let i=0;i<7;i++)a.fillRect(0,i*10+2,64,5);a.fillStyle=e.colors[2],a.fillRect(0,0,28,36),a.fillStyle=e.colors[1],a.font="4px Arial";for(let i=0;i<5;i++)for(let n=0;n<6;n++)(i+n)%2===0&&a.fillText("★",3+n*4,6+i*6)}else if(e.code==="AU"){a.fillStyle=e.colors[0],a.fillRect(0,0,64,64);const i=32,n=32;a.fillStyle=e.colors[1],a.fillRect(0,0,i,n),a.fillStyle=e.colors[0],a.fillRect(0,0,i,n),a.fillStyle=e.colors[1],a.lineWidth=4,a.beginPath(),a.moveTo(0,0),a.lineTo(i,n),a.moveTo(0,n),a.lineTo(i,0),a.stroke(),a.fillStyle=e.colors[1],a.fillRect(0,n/2-2,i,4),a.fillRect(i/2-2,0,4,n),a.fillStyle=e.colors[2],a.fillRect(0,n/2-1,i,2),a.fillRect(i/2-1,0,2,n),a.strokeStyle=e.colors[2],a.lineWidth=2,a.beginPath(),a.moveTo(2,0),a.lineTo(i,n-2),a.moveTo(0,2),a.lineTo(i-2,n),a.moveTo(i-2,0),a.lineTo(0,n-2),a.moveTo(i,2),a.lineTo(2,n),a.stroke(),a.fillStyle=e.colors[1],a.font="6px Arial",a.fillText("★",40,20),a.fillText("★",50,30),a.fillText("★",45,40),a.fillText("★",55,50),a.fillText("★",35,55)}else e.code==="GB"?(a.fillStyle=e.colors[0],a.fillRect(0,0,64,64),a.fillStyle=e.colors[1],a.fillRect(0,28,64,8),a.fillRect(28,0,8,64),a.fillStyle=e.colors[2],a.fillRect(0,30,64,4),a.fillRect(30,0,4,64)):e.code==="JP"?(a.fillStyle=e.colors[0],a.fillRect(0,0,64,64),a.fillStyle=e.colors[1],a.beginPath(),a.arc(32,32,16,0,Math.PI*2),a.fill()):e.code==="ES"?(a.fillStyle=e.colors[0],a.fillRect(0,0,64,16),a.fillStyle=e.colors[1],a.fillRect(0,16,64,32),a.fillStyle=e.colors[2],a.fillRect(0,48,64,16)):e.code==="CH"?(a.fillStyle=e.colors[0],a.fillRect(0,0,64,64),a.fillStyle=e.colors[1],a.fillRect(0,24,64,16),a.fillRect(24,0,16,64)):(a.fillStyle=e.colors[1],a.fillRect(0,32,64,32));a.fillStyle="#000000",a.font="bold 8px Arial",a.textAlign="center",a.strokeStyle="#ffffff",a.lineWidth=2,a.strokeText(e.code,32,58),a.fillText(e.code,32,58)}const o=new Image;o.src=l.toDataURL(),f[e.name]=o})}function O(){return f}U.getAssets=O;const Y=32,H=32,R=64;function lt(){const t=U.getAssets().player_sprite_sheet;function e(l,a){const o=document.createElement("canvas");o.width=R,o.height=R;const i=o.getContext("2d");if(!i)throw new Error("Failed to get 2D context");return i.drawImage(t,a*Y,l*H,Y,H,0,0,R,R),o}g.down_walk.push(e(0,0)),g.right_walk.push(e(1,1)),g.up_walk.push(e(2,1)),g.down_idle.push(g.down_walk[0]),g.right_idle.push(g.right_walk[0]),g.up_idle.push(g.up_walk[0])}let m=L.room1;function X(){return m}function ot(t){const e=L[t];return e?(console.log(`Changing from ${m.name} to ${e.name}`),m=e,s.x=e.playerStartX,s.y=e.playerStartY,console.log(`Player positioned at (${s.x}, ${s.y}) in ${e.name}`),s.animationState="idle",j(e),!0):(console.error(`Room ${t} not found!`),!1)}function j(t,e){const l=document.createElement("div");l.style.cssText=`
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 20px 30px;
    border-radius: 12px;
    font-family: Arial, sans-serif;
    font-size: 20px;
    font-weight: bold;
    text-align: center;
    z-index: 2000;
    border: 3px solid #fff;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7);
    animation: fadeInOut 3s ease-in-out forwards;
  `;const a=document.createElement("style");a.textContent=`
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
      20% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
    }
  `,document.head.appendChild(a),l.innerHTML=`
    <div style="font-size: 24px; margin-bottom: 10px;">${t.name}</div>
    <div style="font-size: 16px; opacity: 0.8;">${t.description||""}</div>
  `,document.body.appendChild(l),setTimeout(()=>{document.body.removeChild(l),document.head.removeChild(a)},3e3)}function at(){const t=s.x,e=s.y,l=m.doors.find(a=>a.x===t&&a.y===e);return l&&(console.log(`Found door at (${t}, ${e}) leading to ${l.targetRoom}`),ot(l.targetRoom))?(s.x=l.targetX,s.y=l.targetY,console.log(`Player moved to target position (${l.targetX}, ${l.targetY})`),!0):!1}function N(t,e){return m.doors.find(l=>l.x===t&&l.y===e)||null}function it(){m=L.room1,s.x=m.playerStartX,s.y=m.playerStartY,console.log(`Room system initialized. Starting in ${m.name}`),console.log(`Player starting position: (${s.x}, ${s.y})`),setTimeout(()=>{j(m)},1e3)}let x={},y=null,v=null;const nt=200;function rt(){document.addEventListener("keydown",ft),document.addEventListener("keyup",dt),ct()}function ct(){y=document.createElement("div"),y.id="door-message",y.style.cssText=`
    position: fixed;
    bottom: 120px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 12px 20px;
    border-radius: 8px;
    font-family: Arial, sans-serif;
    font-size: 16px;
    display: none;
    z-index: 1000;
    border: 2px solid #fff;
    text-align: center;
    max-width: 300px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
  `,document.body.appendChild(y)}function st(t){y&&(y.textContent=t,y.style.display="block")}function K(){y&&(y.style.display="none")}function ft(t){let e=null;switch(t.key){case"ArrowUp":case"w":case"W":e="up";break;case"ArrowDown":case"s":case"S":e="down";break;case"ArrowLeft":case"a":case"A":e="left";break;case"ArrowRight":case"d":case"D":e="right";break;case" ":if(!x[" "]){console.log("Action button pressed!");const l=N(s.x,s.y);l?(console.log(`Attempting to enter door to ${l.targetRoom}`),at()&&(console.log("Successfully entered new room!"),K())):console.log("No door here to interact with."),x[t.key]=!0}t.preventDefault();return}e&&!x[t.key]&&(x[t.key]=!0,ht(e)),t.preventDefault()}function dt(t){if(x[t.key]=!1,["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d","W","A","S","D"].includes(t.key)&&!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d","W","A","S","D"].some(a=>x[a])){C(),s.animationState="idle";const a=s.direction==="left"?"right":s.direction;s.currentAnimation=g[`${a}_idle`],s.frameIndex=0,s.animationTimer=0,V()}}function ht(t){C(),G(t),v=window.setInterval(()=>{({up:["ArrowUp","w","W"],down:["ArrowDown","s","S"],left:["ArrowLeft","a","A"],right:["ArrowRight","d","D"]})[t].some(o=>x[o])?G(t):C()},nt)}function C(){v&&(clearInterval(v),v=null)}function G(t){const e=X(),l=e.map[0].length,a=e.map.length;if(t!==s.direction){s.direction=t,s.animationState="idle";const i=s.direction==="left"?"right":s.direction;s.currentAnimation=g[`${i}_idle`],s.frameIndex=0,s.animationTimer=0}else{let i=s.x,n=s.y;if(t==="up"?n--:t==="down"?n++:t==="left"?i--:t==="right"&&i++,i>=0&&i<l&&n>=0&&n<a){const d=e.map[n][i];le.includes(d)?(s.x=i,s.y=n,s.animationState="walk",setTimeout(()=>V(),100)):(s.animationState="idle",console.log(`Cannot walk on tile type ${d} at (${i}, ${n})`))}else s.animationState="idle",console.log("Cannot move outside map boundaries")}const o=s.direction==="left"?"right":s.direction;s.currentAnimation=g[`${o}_${s.animationState}`],s.frameIndex=0,s.animationTimer=0}function V(){const t=N(s.x,s.y);t&&t.description?st(t.description):K()}function gt(){const t={"btn-up":"ArrowUp","btn-down":"ArrowDown","btn-left":"ArrowLeft","btn-right":"ArrowRight","btn-action":" "};for(const[e,l]of Object.entries(t)){const a=document.getElementById(e);a&&(a.addEventListener("touchstart",o=>{o.preventDefault(),Q(l)},{passive:!1}),a.addEventListener("touchend",o=>{o.preventDefault(),I(l)},{passive:!1}),a.addEventListener("mousedown",o=>{o.preventDefault(),Q(l)}),a.addEventListener("mouseup",o=>{o.preventDefault(),I(l)}),a.addEventListener("mouseleave",o=>{o.preventDefault(),I(l)}),a.addEventListener("contextmenu",o=>{o.preventDefault()}))}}function Q(t){const e=new KeyboardEvent("keydown",{key:t,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}function I(t){const e=new KeyboardEvent("keyup",{key:t,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}function mt(t){const e=document.getElementById("gameCanvas"),l=e?e.getContext("2d"):null,a=64,o=t[0].length,i=t.length,n=o*a,d=i*a;return{canvas:e,ctx:l,TILE_SIZE:a,GAME_WIDTH:n,GAME_HEIGHT:d}}function Z(t){t.style.transform="",t.style.position="",t.style.left="",t.style.top="",t.width=t.width,t.height=t.height}const yt=Array(D).fill(null).map(()=>Array(M).fill(0)),{canvas:T,ctx:E,TILE_SIZE:bt,GAME_WIDTH:A,GAME_HEIGHT:S}=mt(yt);if(!T)throw console.error("Canvas element not found! Make sure there's a canvas with id='gameCanvas'"),new Error("Canvas not found");if(!E)throw console.error("Could not get 2D context from canvas"),new Error("Canvas context not available");T.width=A;T.height=S;console.log(`Canvas initialized: ${A}x${S} (${M}x${D} tiles)`);Z(T);window.addEventListener("resize",()=>Z(T));let J=0,_=!1;function xt(){_||(_=!0,console.log("Game started!"),requestAnimationFrame(q))}function q(t){if(!_)return;const e=(t-J)/1e3;J=t,oe(e),E&&At(E,bt),requestAnimationFrame(q)}function At(t,e){t.clearRect(0,0,A,S);const l=O(),a=X(),o=a.map;if(!l.grass){t.fillStyle="#333",t.fillRect(0,0,A,S),t.fillStyle="#fff",t.font="20px Arial",t.textAlign="center",t.fillText("Loading assets...",A/2,S/2);return}for(let i=0;i<o.length;i++)for(let n=0;n<o[0].length;n++){const d=o[i][n];let r=null;switch(d){case 0:r=l.grass;break;case 1:r=l.oak_tree;break;case 2:case 3:case 4:case 5:r=l.path;break;case 6:r=l.door;break;case 7:r=l.library_floor;break;case 8:r=l.library_bsA||l.library_bsB||l.library_bsC;break;case 9:r=l.football_center||l.football_0;break;case 10:r=l.flag_it||l.flag_fr||l.flag_de||l.flag_us;break;case 11:r=l.library_table;break;case 12:r=l.library_chair;break;case 13:r=l.library_rug;break;case 14:r=l.tree_t1||l.tree_t2||l.tree_t3;break;case 15:break;case 16:r=l.football_0;break;case 17:r=l.football_1;break;case 18:r=l.football_2;break;case 19:r=l.football_3;break;case 20:r=l.football_4;break;case 21:r=l.football_5;break;case 22:r=l.football_6;break;case 23:r=l.football_7;break;case 24:r=l.football_8;break;case 25:r=l.football_9;break;case 26:r=l.football_10;break;case 27:r=l.football_11;break;case 28:r=l.world_map;break;case 29:r=l.nps_chart;break;case 30:r=l.energy_cost_chart;break;case 31:r=l.fashion_retail_timeseries;break;case 32:r=l.distribution_network_map;break;case 33:r=l.forecast_histogram;break;case 34:r=l.box_plot;break;case 35:r=l.deloitte_consulting;break;case 36:r=l.powerbi_dashboard_left;break;case 37:r=l.powerbi_dashboard_right;break;case 38:r=l.python_sklearn;break;case 39:r=l.pytorch_langchain;break;case 40:r=l.recommendation_tree;break;case 41:r=l.azure_ml;break;case 42:r=l.azure_data_factory;break;case 43:r=l.chatbot_ai;break;case 44:r=l.gantt_chart;break;case 45:r=l.ir_spectrum;break;case 46:r=l.atmospheric_transmission;break;case 47:r=l.multi_camera_array;break;case 48:r=l.leonardo_spa;break;case 49:r=l.object_detection;break;case 50:r=l.kalman_filter;break;case 51:r=l.optical_flow;break;case 52:r=l.coverage_360;break;case 53:r=l.threat_interface;break;case 54:r=l.multi_target_tracking;break;case 55:r=l.matlab_simulink;break;case 56:r=l.system_architecture;break;case 57:r=l.requirements_specs;break;case 58:r=l.ir_detector;break;case 59:r=l.brick_wall;break;case 60:r=l.flag_au;break;case 61:r=l.flag_us;break;case 62:r=l.flag_jp;break;case 63:r=l.flag_vn;break;case 64:r=l.flag_mv;break;case 65:r=l.flag_it;break;case 66:r=l.flag_fr;break;case 67:r=l.flag_de;break;case 68:r=l.flag_es;break;case 69:r=l.flag_gb;break;case 70:r=l.flag_nl;break;case 71:r=l.flag_ch;break;case 72:r=l.flag_ma;break;case 73:r=l.flag_eg;break}if(r)t.drawImage(r,n*e,i*e,e,e);else{let c="#90EE90";switch(d){case 0:c="#228B22";break;case 1:c="#8B4513";break;case 6:c="#2C2C2C";break;case 7:c="#D2B48C";break;case 8:c="#8B4513";break;case 9:c="#32CD32";break;case 10:c="#FF6347";break;case 11:c="#A0522D";break;case 12:c="#CD853F";break;case 13:c="#DC143C";break;case 14:c="#654321";break;case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:c="#32CD32";break;case 28:c="#87CEEB";break;case 29:c="#1a202c";break;case 30:c="#ffa500";break;case 31:c="#e91e63";break;case 32:c="#1a202c";break;case 33:c="#3b82f6";break;case 34:c="#06b6d4";break;case 35:c="#86bc25";break;case 36:case 37:c="#f2c811";break;case 38:c="#3776ab";break;case 39:c="#ee4c2c";break;case 40:c="#1a202c";break;case 41:case 42:c="#0078d4";break;case 43:c="#2d3748";break;case 44:c="#1a202c";break;case 45:c="#1a1a1a";break;case 46:c="#1a1a1a";break;case 47:c="#1a1a1a";break;case 48:c="#C8102E";break;case 49:c="#1a1a1a";break;case 50:c="#1a1a1a";break;case 51:c="#1a1a1a";break;case 52:c="#1a1a1a";break;case 53:c="#1a1a1a";break;case 54:c="#1a1a1a";break;case 55:c="#e97627";break;case 56:c="#1a1a1a";break;case 57:c="#1a1a1a";break;case 58:c="#1a1a1a";break;case 59:c="#6e6e6e";break;case 60:c="#012169";break;case 61:c="#b22234";break;case 62:c="#bc002d";break;case 63:c="#da251d";break;case 64:c="#d21034";break;case 65:c="#009246";break;case 66:c="#0055a4";break;case 67:c="#000000";break;case 68:c="#aa151b";break;case 69:c="#012169";break;case 70:c="#21468b";break;case 71:c="#ff0000";break;case 72:c="#c1272d";break;case 73:c="#ce1126";break}t.fillStyle=c,t.fillRect(n*e,i*e,e,e)}if((d===1||d===14)&&r){const c=r.naturalHeight||r.height;c>e&&t.drawImage(r,n*e,i*e-(c-e),e,c)}if((d===8||d===28)&&r){const c=r.naturalHeight||r.height;c>e&&t.drawImage(r,n*e,i*e-(c-e),e,c)}if(d===6&&(t.save(),t.globalAlpha=.3,t.fillStyle="#FFD700",t.fillRect(n*e+2,i*e+2,e-4,e-4),t.restore()),d===10&&a.id==="room4"){const c=[l.flag_it,l.flag_fr,l.flag_de,l.flag_us,l.flag_jp,l.flag_au,l.flag_es,l.flag_gb].filter(Boolean);if(c.length>0){const h=(n+i)%c.length,B=c[h];B&&t.drawImage(B,n*e,i*e,e,e)}}}ae(t,e),ut(t,a)}function ut(t,e){if(t.fillStyle="#fff",t.font="bold 18px Arial",t.textAlign="left",t.strokeStyle="#000",t.lineWidth=3,t.strokeText(e.name,15,35),t.fillText(e.name,15,35),e.description&&e.id!=="room1"){t.font="12px Arial",t.fillStyle="#E0E0E0";const l=A-30,a=e.description.split(" ");let o="",i=55;for(let n=0;n<a.length;n++){const d=o+a[n]+" ";t.measureText(d).width>l&&n>0?(t.strokeText(o,15,i),t.fillText(o,15,i),o=a[n]+" ",i+=16):o=d}o&&(t.strokeText(o,15,i),t.fillText(o,15,i))}}console.log("Loading assets...");U(()=>{console.log("Assets loaded, initializing sprites..."),lt(),console.log("Initializing room system..."),it(),console.log("Setting up input listeners..."),rt(),gt(),console.log("Starting game..."),xt()});
